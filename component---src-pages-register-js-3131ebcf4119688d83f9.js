"use strict";(self.webpackChunkicn_australia=self.webpackChunkicn_australia||[]).push([[942],{414:function(r,e,a){a.r(e),a.d(e,{default:function(){return b}});var o=a(6540),s=a(550),n=a(4959),t=a(6835),i=a(853);var l=r=>{let{label:e,name:a,value:o,onChange:s,error:n,type:l="text"}=r;return(0,i.FD)(t.az,{sx:{mb:3},children:[(0,i.Y)(t.JU,{htmlFor:a,sx:{mb:1},children:e}),(0,i.Y)(t.pd,{type:l,id:a,name:a,value:o,onChange:s,"aria-describedby":a+"-error",sx:{borderColor:n?"error":"gray","&:focus":{borderColor:n?"error":"primary",boxShadow:r=>"0 0 0 2px "+(n?r.colors.error:r.colors.primary),outline:"none"}}}),n&&(0,i.Y)(t.az,{sx:{color:"error",mt:1},id:a+"-error",children:n})]})},d=a(2225);function c(r){return(0,d.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function u(r){return(0,d.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}var m=r=>{let{label:e,name:a,value:s,onChange:n,error:l}=r;const{0:d,1:m}=(0,o.useState)(!1);return(0,i.FD)(t.az,{sx:{mb:3},children:[(0,i.Y)(t.JU,{htmlFor:a,sx:{mb:1},children:e}),(0,i.FD)(t.az,{sx:{position:"relative"},children:[(0,i.Y)(t.pd,{type:d?"text":"password",id:a,name:a,value:s,onChange:n,"aria-describedby":a+"-error",sx:{borderColor:l?"error":"gray",pr:10,"&:focus":{borderColor:l?"error":"primary",boxShadow:r=>"0 0 0 2px "+(l?r.colors.error:r.colors.primary),outline:"none"}}}),(0,i.Y)(t.K0,{sx:{position:"absolute",right:2,top:"50%",transform:"translateY(-50%)",cursor:"pointer",bg:"transparent",border:"none",p:1},onClick:()=>m(!d),"aria-label":d?"Hide password":"Show password",children:d?(0,i.Y)(c,{}):(0,i.Y)(u,{})})]}),l&&(0,i.Y)(t.az,{sx:{color:"error",mt:1},id:a+"-error",children:l})]})};const h=["children"];var p=r=>{let{children:e}=r,a=function(r,e){if(null==r)return{};var a={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.includes(o))continue;a[o]=r[o]}return a}(r,h);return(0,i.Y)(t.$n,Object.assign({},a,{variant:"primary",children:e}))};var g=r=>{let{children:e}=r;return(0,i.Y)(t.az,{sx:{maxWidth:"400px",margin:"0 auto",padding:4,backgroundColor:"background",borderRadius:"md",boxShadow:"md"},children:e})};var b=()=>{const{0:r,1:e}=(0,o.useState)({username:"",email:"",password:"",confirmPassword:""}),{0:a,1:t}=(0,o.useState)(!1),{0:d,1:c}=(0,o.useState)({}),u=a=>{e(Object.assign({},r,{[a.target.name]:a.target.value})),c(Object.assign({},d,{[a.target.name]:""}))};return(0,i.FD)("div",{children:[(0,i.FD)(g,{children:[(0,i.Y)("h2",{sx:{textAlign:"center",mb:3},children:"Register"}),(0,i.FD)("form",{onSubmit:async a=>{if(a.preventDefault(),!(()=>{let e=!0;const a={};return r.username.trim()||(a.username="Username is required",e=!1),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(a.email="Invalid email format",e=!1):(a.email="Email is required",e=!1),r.password.trim()?r.password.length<6&&(a.password="Password must be at least 6 characters",e=!1):(a.password="Password is required",e=!1),r.password!==r.confirmPassword&&(a.confirmPassword="Passwords do not match",e=!1),c(a),e})())return;t(!0);const o=(0,n.xI)();try{const a=(await(0,n.eJ)(o,r.email,r.password)).user;s.oR.success("Account created for "+r.username+"!",{className:"toast-success"}),console.log("Registered user:",a),e({username:"",email:"",password:"",confirmPassword:""})}catch(i){console.error("Registration error:",i),"auth/email-already-in-use"===i.code?s.oR.error("This email is already in use.",{className:"toast-error"}):s.oR.error(i.message,{className:"toast-error"})}finally{t(!1)}},children:[(0,i.Y)(l,{label:"Username",name:"username",value:r.username,onChange:u,error:d.username}),(0,i.Y)(l,{label:"Email",name:"email",type:"email",value:r.email,onChange:u,error:d.email}),(0,i.Y)(m,{label:"Password",name:"password",value:r.password,onChange:u,error:d.password}),(0,i.Y)(m,{label:"Confirm Password",name:"confirmPassword",value:r.confirmPassword,onChange:u,error:d.confirmPassword}),(0,i.Y)(p,{type:"submit",disabled:a,sx:{width:"100%"},children:a?"Registering...":"Register"})]})]}),(0,i.Y)(s.N9,{position:"top-right"})]})}}}]);
//# sourceMappingURL=component---src-pages-register-js-3131ebcf4119688d83f9.js.map